<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…ØªØ±Ø¬Ù… Ø§Ù„Ø´ÙØ±Ø§Øª</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;600;800&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  min-height:100vh;
  background:url("https://i.imgur.com/wGFGAd2.jpeg") no-repeat center/cover fixed;
  font-family:'Cairo',sans-serif;
  color:white;
  text-align:center;
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  z-index:-1;
}

.container{width:90%;max-width:900px;margin:auto;}

.box{
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(10px);
  padding:20px;
  border-radius:16px;
  margin-top:20px;
  transition:.4s;
}

textarea{
  width:100%;
  height:120px;
  background:rgba(0,0,0,.45);
  color:white;
  border:none;
  padding:12px;
  border-radius:10px;
  font-size:16px;
}

.tab{
  display:inline-block;
  padding:8px 16px;
  border-radius:12px;
  margin:4px;
  cursor:pointer;
  font-weight:700;
  border:2px solid white;
}
.active{background:white;color:black;}

.label{opacity:.9;margin-left:8px;}
.footer{margin:25px 0;opacity:.9;}
small{opacity:.85}

/* ===== Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª ===== */
.fade-out{
  opacity:0;
  transform:translateY(20px);
}

.slide-up{
  animation:slideUp .5s ease;
}

@keyframes slideUp{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body>

<h1>Ù…ØªØ±Ø¬Ù… Ø§Ù„Ø´ÙØ±Ø§Øª</h1>

<div class="container box">
  <div>
    <span class="label">Ù„ØºØ© Ø§Ù„ØªØ±Ø¬Ù…Ø©:</span>
    <span class="tab active" onclick="setLang('ar',this)">ğŸ‡¸ğŸ‡¦ Ø¹Ø±Ø¨ÙŠ</span>
    <span class="tab" onclick="setLang('en',this)">ğŸ‡ºğŸ‡¸ English</span>
  </div>
  <br>
  <div>
    <span class="label">Ù†ÙˆØ¹ Ø§Ù„Ø´ÙØ±Ø©:</span>
    <span class="tab active" onclick="setMode('morse',this)">â€¢ï¼ Ù…ÙˆØ±Ø³</span>
    <span class="tab" onclick="setMode('pager',this)">ğŸ“Ÿ Ø¨ÙŠØ¬Ø±</span>
    <span class="tab" onclick="setMode('nokia',this)">ğŸ“± Ø³ÙŠØ§Ù</span>
  </div>
</div>

<div class="container box slide-up" id="workBox">
  <h3>Ø§Ù„Ù†Øµ</h3>
  <textarea id="textInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§"></textarea>

  <h3 id="codeTitle">Ø§Ù„Ø´ÙØ±Ø©</h3>
  <textarea id="codeOutput" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø´ÙØ±Ø© Ù‡Ù†Ø§"></textarea>
</div>

<div class="container box">
  <h3>â„¹ï¸ Ø´Ø±Ø­ Ø§Ù„Ø´ÙØ±Ø©</h3>
  <p id="infoText"></p>
  <small id="exampleText"></small>
</div>

<div class="footer">
  Ù„Ø§ ØªÙ†Ø³ÙˆÙ†Ø§ Ø¨Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù„Ù„ÙˆØ§Ù„Ø¯ Ø¨Ø§Ù„Ø´ÙØ§Ø¡ ğŸ¤
</div>

<script>
let mode="morse";
let lang="ar";

/* ===== Ø§Ù„Ø´Ø±Ø­ ===== */
const info={
  morse:{t:"ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø­Ø±ÙˆÙ Ø¥Ù„Ù‰ Ù†Ù‚Ø§Ø· ÙˆØ´Ø±Ø·Ø§Øª.",e:"SOS â†’ ... --- ..."},
  pager:{t:"ÙƒÙ„ Ø­Ø±Ù ÙŠÙ‚Ø§Ø¨Ù„Ù‡ Ø±Ù‚Ù… Ø«Ø§Ø¨Øª.",e:"HELLO â†’ 8 5 12 12 15"},
  nokia:{t:"Ø¶ØºØ·Ø§Øª Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ§Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©",e:"hello â†’ 44/33/555/555/666/"}
};

/* ===== Ù…ÙˆØ±Ø³ ===== */
const morse_en={"a":".-","b":"-...","c":"-.-.","d":"-..","e":".","f":"..-.","g":"--.","h":"....","i":"..","j":".---","k":"-.-","l":".-..","m":"--","n":"-.","o":"---","p":".--.","q":"--.-","r":".-.","s":"...","t":"-","u":"..-","v":"...-","w":".--","x":"-..-","y":"-.--","z":"--.."};
const morse_ar = {
  "Ø§": ".-",
  "Ø¨": "-...",
  "Øª": "-",
  "Ø«": "-.-.",
  "Ø¬": ".---",
  "Ø­": "....",
  "Ø®": "---.",
  "Ø¯": "-..",
  "Ø°": "--..",
  "Ø±": ".-.",
  "Ø²": "---.",
  "Ø³": "...",
  "Ø´": "----",
  "Øµ": "-..-",
  "Ø¶": "...-",
  "Ø·": "..-",
  "Ø¸": ".--",
  "Ø¹": ".-.-",
  "Øº": "--.-",
  "Ù": "..-.",
  "Ù‚": "--.-",
  "Ùƒ": "-.-",
  "Ù„": ".-..",
  "Ù…": "--",
  "Ù†": "-.",
  "Ù‡": "..-..",
  "Ùˆ": ".--",
  "ÙŠ": ".."
};


/* ===== Ø§Ù„Ø¨ÙŠØ¬Ø± ===== */
const pager_ar_letters=["Ø§","Ø¨","Øª","Ø«","Ø¬","Ø­","Ø®","Ø¯","Ø°","Ø±","Ø²","Ø³","Ø´","Øµ","Ø¶","Ø·","Ø¸","Ø¹","Øº","Ù","Ù‚","Ùƒ","Ù„","Ù…","Ù†","Ù‡","Ùˆ","ÙŠ"];
const pager_en_letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

const pager_ar=Object.fromEntries(pager_ar_letters.map((c,i)=>[i+1,c]));
const pager_en=Object.fromEntries(pager_en_letters.map((c,i)=>[i+1,c]));

/* ===== Ù†ÙˆÙƒÙŠØ§ ===== */
const nokia_ar={"2":"Ø¨ØªØ©Ø«","3":"Ø§Ø¡","4":"Ø³Ø´ØµØ¶","5":"Ø¯Ø°Ø±Ø²","6":"Ø¬Ø­Ø®","7":"Ù†Ù‡ÙˆÙŠ","8":"ÙÙ‚ÙƒÙ„Ù…","9":"Ø·Ø¸Ø¹Øº"};
const nokia_en={"2":"abc","3":"def","4":"ghi","5":"jkl","6":"mno","7":"pqrs","8":"tuv","9":"wxyz"};

function reverseMap(map){
  let r={};
  for(let k in map){
    let v=map[k];
    if(typeof v==="string"){
      for(let i=0;i<v.length;i++) r[v[i]]={k,i};
    }
  }
  return r;
}

/* ===== Ø§Ù„ØªØ­ÙˆÙŠÙ„ ===== */
function convert(type){
  let txt = type==="encode"?textInput.value.trim():codeOutput.value.trim();
  let out="";

if(mode==="morse"){
  let m = lang==="ar" ? morse_ar : morse_en;
  let r = Object.fromEntries(Object.entries(m).map(([k,v])=>[v,k]));

  if(type==="encode"){
    for(let c of txt.toLowerCase()){
      if(c===" ") out += " / ";
      else if(m[c]) out += m[c] + " ";
    }
  }else{
    out = "";
    let parts = txt.split("/");   // Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø¨ÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª

    for(let p of parts){
      let letters = p.trim().split(/\s+/); // Ù†ÙØ³ ØªØ±ØªÙŠØ¨Ùƒ
      for(let l of letters){
        if(r[l]) out += r[l];
      }
      out += " ";
    }
  }
}


if(mode==="pager"){
  let m = lang==="ar" ? pager_ar : pager_en;
  let r = reverseMap(m);

  if(type==="encode"){
    out = "";
    let words = txt.toUpperCase().split(" ");

    for(let w of words){
      let letters = [];
      for(let c of w){
        if(r[c]) letters.push(r[c].k);
      }
      out += letters.join("-") + " ";
    }

  }else{
    out = "";
    let words = txt.split(" "); // Ø§Ù„Ù…Ø³Ø§ÙØ© = ÙƒÙ„Ù…Ø©

    for(let w of words){
      let nums = w.split("-"); // - = Ø­Ø±Ù
      for(let n of nums){
        if(m[n]) out += m[n];
      }
      out += " ";
    }
  }
}


  if(mode==="nokia"){
    let m=lang==="ar"?nokia_ar:nokia_en;
    let r=reverseMap(m);
    if(type==="encode"){
      for(let c of txt.toLowerCase()) out+=r[c]?r[c].k.repeat(r[c].i+1)+"/":"";
    }else out=txt.split("/").map(s=>m[s[0]]?m[s[0]][s.length-1]||"":"").join("");
  }

  if(type==="encode") codeOutput.value=out.trim();
  else textInput.value=out.trim();
}

/* ===== Ø§Ù„ØªØ­ÙƒÙ… + Ø§Ù„ØªØ£Ø«ÙŠØ± ===== */
function setMode(m,el){
  const box=document.getElementById("workBox");
  box.classList.add("fade-out");

  setTimeout(()=>{
    mode=m;
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    el.classList.add("active");

    infoText.innerText=info[m].t;
    exampleText.innerText=info[m].e;

    box.classList.remove("fade-out");
    box.classList.add("slide-up");
    convert("encode");

    setTimeout(()=>box.classList.remove("slide-up"),500);
  },300);
}

function setLang(l,el){
  lang=l;
  el.parentNode.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
  el.classList.add("active");
  convert("encode");
}

textInput.addEventListener("input",()=>convert("encode"));
codeOutput.addEventListener("input",()=>convert("decode"));

setMode("morse",document.querySelectorAll(".tab")[2]);
</script>

</body>
</html>
